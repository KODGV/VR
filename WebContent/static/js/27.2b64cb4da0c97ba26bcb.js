webpackJsonp([27],{533:function(e,a,t){t(820);var s=t(132)(t(620),t(761),null,null);e.exports=s.exports},620:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{activeName2:"first",allowSubmit:!0,hostURL:"/VR",uid:"1",display_box:!1,ques_data:{questions:[{id:1,question:"1.你是谁？",questiontype:"single"},{id:3,question:"3.你对某个产品有什么建议？",questiontype:"essay"}]},answ_data:{answers:[{question:1,user:self.uid,answer:"1",producttype:"",productname:""},{question:3,user:self.uid,answer:"",producttype:"",productname:""}]},pro_type:{opts:[{value:"AllInOnePc",label:"一体机"},{value:"PcheadSet",label:"PC头显"},{value:"MobileBox",label:"手机盒子"}],value:""}}},methods:{codeParsing:function(e){var a=this,t=function(e,t){a.$notify({title:e,message:t,type:"error"})};switch(e){case-1:t("系统错误","未知错误，请上报管理员");break;case 201:t("输入域错误","验证码错误");break;case 300:t("输入域错误","邮箱或密码错误");break;case 301:t("权限问题","用户已禁用，请联系管理员");break;case 302:t("权限问题","用户未激活，请去邮箱激活用户");break;case 303:t("注册问题","邮箱已占用，请更改邮箱");break;case 304:t("注册问题","昵称已占用，请更改昵称");break;case 401:t("权限问题","用户无权访问，请联系管理员");break;case 402:t("操作错误","删除错误,请刷新重试");break;case 415:t("操作错误","文件类型错误，请上传正确文件类型");break;case 500:t("系统错误","未知错误，请上报管理员");break;case 600:t("TIME_OUT","访问超时，请检查网络连接");break;case 700:t("激活错误","非法激活链接，请联系管理员");break;case 800:t("激活错误","用户已被激活，请直接登录");break;case 1e3:t("系统错误","参数错误，上报管理员");break;case 1001:t("权限问题","用户未登录，请重新登录");break;case 1002:t("系统错误","参数错误，上报管理员")}},getData:function(e){var a=this;a.ques_data.questions=[],a.answ_data.answers=[],a.pro_type.opts=[],a.$axios({url:"/Question",method:"get",baseURL:a.hostURL}).then(function(e){console.log(e.data),a.pro_type.opts=[];for(var t=0;t<e.data.length;t++)a.pro_type.opts.push({value:e.data[t],label:e.data[t]})}).catch(function(e){console.log(e)})},sendQuestionaire:function(){for(var e=this,a=!0,t=0;t<e.answ_data.answers.length;t++)if(""==e.answ_data.answers[t].answer){a=!1;break}if(a&&""!=e.pro_type.value){for(var t=0;t<e.answ_data.answers.length;t++)e.answ_data.answers[t].producttype=e.pro_type.value;e.$axios({url:"/Answer",method:"post",baseURL:e.hostURL,data:e.answ_data.answers}).then(function(a){localStorage.setItem("pro_type",e.pro_type.value),e.$router.replace("/user/questionaire/statistic")}).catch(function(e){console.log(e)})}else e.$message("还有内容未填写！")},sendProType:function(){var e=this;e.ques_data.questions=[],e.answ_data.answers=[],e.$axios({url:"/Question/type?type="+e.pro_type.value,method:"get",baseURL:e.hostURL}).then(function(a){e.ques_data.questions=a.data,e.answ_data.answers=[];for(var t=0;t<e.ques_data.questions.length;t++)e.answ_data.answers.push({question:e.ques_data.questions[t].question,user:localStorage.getItem("ms_userid"),answer:"",producttype:""});e.display_box=!0})}},mounted:function(){var e=this;""==localStorage.getItem("ms_username")&&this.$router.replace("/login"),e.getData()}}},695:function(e,a,t){a=e.exports=t(58)(void 0),a.push([e.i,".crumbs{text-decoration:none}.bread{font-size:16px}#questions{margin-left:30px}.questionaire p{font-size:18px;margin-top:30px}.questionaire hr{width:72.7%}.left_radio{margin-right:200px;margin-left:30px}.essay-answer{width:400px}.submit_btn{margin-left:180px;margin-top:30px}.selector{width:700px;margin-top:20px;display:flex}.protype_selector{margin-left:50px;float:left}.prosales_selector{margin-left:40px;flex:1}.questionbox{padding:28px;width:800px;border:1px solid #e1e1e1;box-shadow:0 0 2px rgba(0,0,0,.1);margin-top:20px}",""])},761:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:"/user/questionaire"}},[t("i",{staticClass:"el-icon-date"}),e._v("满意度调查")]),e._v(" "),t("el-breadcrumb-item",[e._v("问卷填写")])],1)],1),e._v(" "),t("div",{staticClass:"questionaire"},[t("p",[e._v("问卷")]),e._v(" "),t("hr"),e._v(" "),t("div",{staticClass:"selector"},[t("div",{staticClass:"protype_selector"},[t("el-select",{attrs:{placeholder:"请选择问卷"},on:{change:function(a){e.sendProType()}},model:{value:e.pro_type.value,callback:function(a){e.pro_type.value=a},expression:"pro_type.value"}},e._l(e.pro_type.opts,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.display_box,expression:"display_box"}],staticClass:"questionbox"},[t("form",{attrs:{id:"questions"}},e._l(e.answ_data.answers,function(a,s){return t("div",{staticClass:"single_question"},[t("p",{staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(a.question))]),e._v(" "),"single"==e.ques_data.questions[s].questiontype?t("div",{staticClass:"answer"},[t("label",{staticClass:"left_radio"},[t("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:a.answer,callback:function(e){a.answer=e},expression:"a.answer"}},[e._v("是")])],1),e._v(" "),t("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:a.answer,callback:function(e){a.answer=e},expression:"a.answer"}},[e._v("否 ")])],1):"essay"==e.ques_data.questions[s].questiontype?t("div",{staticClass:"essay-answer"},[t("el-input",{attrs:{type:"textarea",row:3,placeholder:"请输入内容",resize:"none"},model:{value:a.answer,callback:function(e){a.answer=e},expression:"a.answer"}})],1):e._e()])})),e._v(" "),t("div",{staticClass:"submit_btn"},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.sendQuestionaire()}}},[e._v("提交问卷")])],1)])])])},staticRenderFns:[]}},820:function(e,a,t){var s=t(695);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t(133)("3f1d7ff0",s,!0)}});