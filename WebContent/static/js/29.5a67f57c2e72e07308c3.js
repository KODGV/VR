webpackJsonp([29],{524:function(e,t,s){s(804);var l=s(132)(s(598),s(748),null,null);e.exports=l.exports},598:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s(188);t.default={components:{quillEditor:l.quillEditor},data:function(){return{hostURL:"/VR",load:!1,select_cast:"",news:{id:null,tag:null,title:null,path:null,lastEditTime:null,source:null,upvote:null,downvote:null,editorId:null,author:null,newsAbstract:null,content:null,picLocation:null,isPush:null,type:null},editorOption:{modules:{toolbar:[[{header:[2,3,!1]}],["bold","italic"],[{list:"ordered"},{list:"bullet"}],["image"]]},placeholder:"请编写您的新闻内容..."},rules:{title:[{required:!0,message:"请输入新闻标题",trigger:"blur"}],type:[{required:!0,message:"请选择新闻类型",trigger:"change"}],author:[{required:!0,message:"请输入作者",trigger:"blur"}],source:[{required:!0,message:"请输入来源",trigger:"blur"}],lastEditTime:[{required:!0,message:"请输入时间",trigger:"blur"}],picLocation:[{required:!0,type:"url",message:"请输入图片的URL",trigger:"blur"}],newsAbstract:[{required:!0,message:"请输入新闻概述",trigger:"blur"},{min:5,max:100,message:"长度在5到100个字符",trigger:"blur"}],content:[{required:!0,message:"请输入新闻内容",trigger:"blur"}]}}},computed:{editor:function(){return this.$refs.myTextEditor.quillEditor}},methods:{onEditorChange:function(e){var t=(e.editor,e.html);e.text;this.news.content=t},codeParsing:function(e){var t=this,s=function(e,s){t.$notify({title:e,message:s,type:"error"})};switch(e){case-1:s("系统错误","未知错误，请上报管理员");break;case 201:s("输入域错误","验证码错误");break;case 300:s("输入域错误","邮箱或密码错误");break;case 301:s("权限问题","用户已禁用，请联系管理员");break;case 302:s("权限问题","用户未激活，请去邮箱激活用户");break;case 303:s("注册问题","邮箱已占用，请更改邮箱");break;case 304:s("注册问题","昵称已占用，请更改昵称");break;case 401:s("权限问题","用户无权访问，请联系管理员");break;case 402:s("操作错误","删除错误,请刷新重试");break;case 415:s("操作错误","文件类型错误，请上传正确文件类型");break;case 500:s("系统错误","未知错误，请上报管理员");break;case 600:s("TIME_OUT","访问超时，请检查网络连接");break;case 700:s("激活错误","非法激活链接，请联系管理员");break;case 800:s("激活错误","用户已被激活，请直接登录");break;case 1e3:s("系统错误","参数错误，上报管理员");break;case 1001:s("权限问题","用户未登录，请重新登录");break;case 1002:s("系统错误","参数错误，上报管理员")}},onSubmit:function(e){var t=this;t.$refs[e].validate(function(s){s?(t.$axios({url:"/NewsRelease",data:{author:t.news.author,lastEditTime:t.news.lastEditTime,newsAbstract:t.news.newsAbstract,picLocation:t.news.picLocation,source:t.news.source,title:t.news.title,type:t.news.type,content:t.news.content,path:t.news.path},method:"post",baseURL:t.hostURL}).catch(function(e){console.log(e)}),t.$message.success("发布成功！"),t.$refs[e].resetFields(),t.$router.push("/admin/news-editor")):t.$message.error("请输入全部信息！")})},resetForm:function(e){this.$refs[e].resetFields()}}}},677:function(e,t,s){t=e.exports=s(58)(void 0),t.push([e.i,".content{float:left;width:70%}",""])},748:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-date"}),e._v(" 新闻编辑")]),e._v(" "),s("el-breadcrumb-item",[e._v("新闻发布")])],1)],1),e._v(" "),s("div",{staticClass:"form-box"},[s("el-form",{ref:"news",attrs:{rules:e.rules,model:e.news,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[s("el-input",{attrs:{placeholder:"请输入新闻标题"},model:{value:e.news.title,callback:function(t){e.news.title=t},expression:"news.title"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"新闻类型",prop:"type"}},[s("el-select",{attrs:{placeholder:"请选择新闻类型"},model:{value:e.news.type,callback:function(t){e.news.type=t},expression:"news.type"}},[s("el-option",{key:"1",attrs:{label:"最新",value:"1"}}),e._v(" "),s("el-option",{key:"2",attrs:{label:"融资",value:"2"}}),e._v(" "),s("el-option",{key:"3",attrs:{label:"产业",value:"3"}}),e._v(" "),s("el-option",{key:"4",attrs:{label:"厂商",value:"4"}}),e._v(" "),s("el-option",{key:"5",attrs:{label:"专访",value:"5"}}),e._v(" "),s("el-option",{key:"6",attrs:{label:"技术",value:"6"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"作者",prop:"author"}},[s("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入作者"},model:{value:e.news.author,callback:function(t){e.news.author=t},expression:"news.author"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"来源",prop:"source"}},[s("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入来源"},model:{value:e.news.source,callback:function(t){e.news.source=t},expression:"news.source"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"发布时间",prop:"lastEditTime"}},[s("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"yyyy-mm-dd"},model:{value:e.news.lastEditTime,callback:function(t){e.news.lastEditTime=t},expression:"news.lastEditTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"标题图",prop:"picLocation"}},[s("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"请输入图片的URL"},model:{value:e.news.picLocation,callback:function(t){e.news.picLocation=t},expression:"news.picLocation"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"内容概述",prop:"newsAbstract"}},[s("el-input",{staticStyle:{width:"600px"},attrs:{type:"textarea",placeholder:"请输入新闻概述"},model:{value:e.news.newsAbstract,callback:function(t){e.news.newsAbstract=t},expression:"news.newsAbstract"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"新闻内容",prop:"content"}},[s("quill-editor",{ref:"myTextEditor",staticStyle:{"line-height":"1",width:"800px"},attrs:{options:e.editorOption},model:{value:e.news.content,callback:function(t){e.news.content=t},expression:"news.content"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary",loading:e.load},on:{click:function(t){e.onSubmit("news")}}},[e._v("发布")]),e._v(" "),s("el-button",{on:{click:function(t){e.resetForm("news")}}},[e._v("重置")])],1)],1)],1)])},staticRenderFns:[]}},804:function(e,t,s){var l=s(677);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);s(133)("acb128de",l,!0)}});