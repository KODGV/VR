webpackJsonp([50],{501:function(e,t,a){a(794);var n=a(132)(a(574),a(738),null,null);e.exports=n.exports},574:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{search:"",hostURL:"/VR",activePane:"first",tableData:[],pageNum:1}},methods:{handleCurrentChange:function(){console.log(this.pageNum),this.getData(this.pageNum)},deleteRow:function(e,t){var a=this,n={prop_keyword:"",pageNum:1};n.prop_keyword=a.tableData[e].prop_keyword,n.pageNum=a.pageNum,a.$axios({url:"/encyclopediaDelete",method:"post",baseURL:a.hostURL,data:n}).then(function(t){0==t.data?a.$message({type:"info",message:"删除失败，该词条还有修改请求未处理"}):(a.$message({type:"info",message:"删除成功"}),a.tableData.splice(e,1))}).catch(function(e){a.$message({type:"info",message:"connect fail"})})},getEncyclopedia:function(){var e=this;e.encyclopediaList=[];var t={keyword:"",pageNum:1};t.keyword=e.search,t.pageNum=e.pageNum,e.$axios({url:"/encyclopediaSearch",method:"post",baseURL:e.hostURL,data:t}).then(function(t){e.tableData=[],e.tableData=t.data}).catch(function(t){e.$message({type:"info",message:"connect fail"})})},getData:function(e){var t=this;t.$axios({url:"/encyclopedia/getall/"+e,method:"get",baseURL:t.hostURL}).then(function(e){t.tableData=[];for(var a=e.data,n=0;n<a.length;n++)for(var o=a[n].encyclopedia_prop,r=0;r<o.length;r++)t.tableData.push({id:a[n].encyclopedia.id,keyword:a[n].encyclopedia.keyword,prop_keyword:o[r].prop_keyword})}).catch(function(e){console.log(e)})}},mounted:function(){var e=this;e.getData(e.pageNum)}}},667:function(e,t,a){t=e.exports=a(58)(void 0),t.push([e.i,".content{float:left;width:70%}.pagination{margin-left:50px}.crumbs{text-decoration:none}",""])},738:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-edit"}),e._v(" 百科管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("词条删除")])],1)],1),e._v(" "),a("el-input",{staticStyle:{width:"500px","margin-bottom":"20px"},attrs:{placeholder:"请输入词条属性"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(t){e.getEncyclopedia()}}},[e._v("搜索")]),e._v(" "),a("el-table",{attrs:{data:e.tableData,border:"",width:"700","max-height":"500"}},[a("el-table-column",{attrs:{prop:"id",label:"词条编号",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"keyword",label:"词条名",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prop_keyword",label:"词条属性"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v("\r\n           删除\r\n         ")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageNum,layout:"prev, next"},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.pageNum=t}}})],1)],1)},staticRenderFns:[]}},794:function(e,t,a){var n=a(667);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(133)("668a8c93",n,!0)}});